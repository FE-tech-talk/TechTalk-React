## 1. 리액트에서 발생하는 크로스 사이트 스크립팅

크로스 사이트 스크립팅(XSS)이란 웹사이트 개발자가 아닌 제3자가 웹사이트에 악성 스크립트를 삽입해 실행할 수 있는 취약점을 의미한다.

### dangerouslySetInnerHTML prop

특정 브라우저 DOM의 innerHTML을 특정한 내용으로 교체할 수 있는 방법이다.
인수로 받는 문자열에 제한이 없어 넘겨주는 문자열 값은 한 번 더 검증이 필요하다.

### useRef를 활용한 직접 삽입

innerHTML에 보안 취약점이 있는 스크립트를 삽입하면 동일한 문제가 발생한다.
script, svg/onload, a, onclick, onload 등 이벤트를 활용한 XSS가 있으며 공통적인 문제는 웹사이트 개발자가 만들지 않은 코드를 삽입한다.

### 리액트에서 XSS 문제를 피하는 방법

제3자가 삽입할 수 있는 HTML을 안전한 HTML 코드로 한 번 치환하는 것이다. 이러한 과정을 sanitize 또는 escape라고 하며 유명한 라이브러리로 DOMpurity, sanitize-html, js-xss 등이 있다.
sanitize-html은 허용 목록 방식을 채택하기 때문에 사용하기 귀찮게 느껴질 수 있으나 차단 목록으로 해야 할 것을 놓친다면 그 즉시 보안 이슈로 연결되므로 허용 목록을 작성하는 것이 훨씬 안전하다.

단순히 보여줄 떄뿐만 아니라 사용자가 콘텐츠를 저장할 때도 한번 이스케이프 과정을 거치는 것이 더 효율적이고 안전하다.

개발자는 자신이 작성한 코드가 아닌 query, GET 파라미터, 서버에 저장된 사용자가 입력한 데이터 등 외부에 존재하는 모든 코드를 위험한 코드로 간주하고 이를 적절하게 처리하는 것이 좋다.
