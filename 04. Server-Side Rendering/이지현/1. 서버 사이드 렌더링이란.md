# 1. 서버 사이드 렌더링이란?

최근 서버 사이드 렌더링이 각광받게 됨

<br>

## 1-1. 싱글 페이지 애플리케이션 (SPA) 의 세상

### 1. 싱글 페이지 애플리케이션이란?

1. 렌더링과 라우팅에 필요한 대부분의 기능을 서버가 아닌 브라우저의 `자바스크립트`에 의존하는 방식
2. 최초의 첫 페이지에서 데이터를 모두 불러왔기 때문에, 페이지 전환 시 HTML을 요청하는 게 아니라 자바스크립트에서 다음 페이지의 렌더링에 필요한 정보만 HTTP 요청 등을 수행

개발자 도구애서 소스코드를 보면 body 태그는 비어져있고, body 내부에 DOM을 추가, 수정, 삭제하는 방식으로 페이지 전환

<br>

### 2. 전통적인 방식의 애플리케이션과 싱글 페이지 애플리케이션의 작동 비교

#### 과거 서버사이드

과거에는 페이지 전환이 발생할 때마다 새롭게 페이지를 요청하고, HTML 페이지를 다운로드해 파싱하는 작업을 거침

⮕ 페이지를 새로 그려야 해, 페이지 전활될 때 부자연스러운 모습을 보게 됨 (처음부터 다시 다운로드받고 렌더링)

#### 싱글 페이지 애플리케이션

최초에 한번 모든 리소스를 다운로드하고 이후 페이지를 전환할 때 추가로 리소스를 다운로드하는 시간이 필요 없어짐 ex) Gmail

<br>

### 3. 싱글 페이지 렌더링 방식의 유행과 JAM 스택의 등장

`자바스크립트`로 할 수 있는 일이 점차 다양해지고 크게 의존하게 됨

⮕ 모든 영역 페이지의 모든 영역을 담당하면서 이를 모두 아우를 수 있는 방식인 `싱글 페이지 렌더링`이 인기를 얻게 됨

<br>

### 4. 새로운 패러다임의 웹서비스를 향한 요구

제공하는 자바스크립트 리소스의 크기와 수가 점차 증가
<br>
But! 모바일 기기의 성능은 날이 갈수록 좋아지는 반면 모바일에서의 웹페이지 로딩은 오래 걸리고 CPU를 소비하는 시간이 눈에 띄게 증가

<br>

## 1-2. 서버 사이드 렌더링 (SSR) 이란?

| 싱글 페이지 애플리케이션(SPA)             | 서버 사이드 렌더링(SSR)            |
| ----------------------------------------- | ---------------------------------- |
| 자바스크립트로 하나의 페이지에서만 렌더링 | 서버에서 렌더링해 빠르게 화면 제공 |
| 자바스크립트 번들에서 렌더링 담당         | 렌더링에 필요한 작업 모두 서버에서 |
| 사용자 기기의 성능 영향 받음              | 서버에서 제공하기 때문 비교적 안정 |

### 1. 서버 사이드 렌더링의 장점

1. 최초 페이지 진입이 비교적 빠름
2. 검색 엔진과 SNS 공유 등 메타데이터 제공이 쉬움
3. 누적 레이아웃 이동이 적음
4. 사용자의 디바이스 성능에 비교적 자유롭
5. 보안에 좀 더 안전

<br>

### 2. 서버 사이드 렌더링 단점

1. 소스코드 작성할 때 항상 서버를 고려
2. 적절한 서버가 구축돼 있어야 함
3. 서비스 지연에 따른 문제

<br>

## 1-3. SPA와 SSR 모두 알아야 하는 이유

서버 사이드 렌더링이 모든 문제의 해결책이 될 수 없음

### 1. 서버 사이드 렌더링 역시 만능이 아니다

잘못된 웹페이지 설계는 성능을 해칠 수 있고 웹페이지의 설계와 목적, 우선순위에 따라 싱글 페이지 애플리케이션이 더 효율적일 수 있음

⮕ 서버 사이드 렌더링은 성능에 있어 항상 옳지 않음

<br>

### 2. 싱글 페이지 애플리케이션(SPA) 과 서버 사이드 렌더링(SSR) 애플리케이션

1. 평균적인 `SPA`는 평균적인 멀티 페이지 애플리케이션(`서버 사이드 렌더링` 방식)보다 느림
2. `SPA`는 사용자 기기에 따라 성능이 들쑥날쑥하고 최적화 어려움
3. 평균적인 사용자 경험은 서버에서 렌더링 되는 멀티 페이지 애플리케이션(`SSR`)이 나음
4. 가장 뛰어난 `SPA`(ex - Gmail)은 멀티 페이지 애플리케이션(`SSR`)보다 나음

⮕ 두 방법 모두 장단점 있고 어느 하나가 완벽하다고 할 수 없음

<br>

### 3. 현대의 서버 사이드 렌더링

`SSR`은 모든 페이지 빌드를 서버에서 렌더링해 초기 페이지 진입 빠름

이후 라우팅 발생할 때, 서버에 의존해야 하기 때문에 `SPA`보다 라우팅이 느림

⮕ 두 가지 장점 모두 취해, 최초 웹사이트 진입 시 SSR 방식, 이후 라우팅은 서버에서 내려받은 자바스크립트를 타방으로 `SPA`처럼 작동 ex) Next.js , Remix
