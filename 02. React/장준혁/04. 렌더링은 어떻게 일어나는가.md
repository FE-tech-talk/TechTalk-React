## 4. 렌더링은 어떻게 일어나는가

렌더링? HTML과 CSS 리소스를 기반으로 웹페이지에 필요한 UI를 그리는 과정

### 리액트의 렌더링이란?

컴포넌트들이 props와 state의 값을 기반으로 어떻게 UI를 구성하고 어떤 DOM 결과를 브라우저에 제공할 것인지 계산하는 일련의 과정

### 리액트의 렌더링이 일어나는 이유

1. 최초 렌더링
2. 리렌더링 (ex. setState, useReducer의 dispatch, key props 변경, 클래스 컴포넌트의 forceUpdate)

### 리액트의 렌더링 프로세스

컴포넌트 루트부터 아래쪽으로 내려가 업데이트가 필요하다고 지정돼 있는 모든 컴포넌트를 찾아 클래스 컴포넌트일 경우 render(), 함수 컴포넌트일 경우 FunctionComponent()를 호출하여 결과를 저장한다.
그 후 가상 DOM과 비교해 실제 DOM에 반영하기 위한 변경 사항을 수집한다(Reconciliation, 재조정) 그 후 모든 변경 사항을 하나의 동기 시퀀스로 DOM에 적용해 변경된 결과물이 보이게 된다.
이때, 렌더 단계와 커밋 단계라는 두 단계로 분리되어 실행된다.

### 렌더와 커밋

렌더 단계: 컴포넌트를 렌더링하고 변경 사항을 계산하는 모든 작업이다. 컴포넌트를 실행해 가상 DOM을 비교하여 변경이 필요한 컴포넌트를 체크한다. (type, props, key)

커밋 단계: 렌더 단계의 변경 사항을 실제 DOM에 적용해 사용자에게 보여주는 과정이다.

변경 사항을 계산했는데 아무런 변경 사항이 감지되지 않는다면 커밋 단계는 생략이 가능하다

### 일반적인 렌더링 시나리오

상위 컴포넌트에서 렌더링을 발생시키는 작업이 일어나면 하위 모든 컴포넌트의 리렌더링을 트리거한다.
