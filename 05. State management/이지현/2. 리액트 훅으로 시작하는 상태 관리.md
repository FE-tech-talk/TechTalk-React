# 2. 리액트 훅으로 시작하는 상태 관리

## 2-1. 가장 기본적인 방법: useState와 useReducer

useState와 useReducer를 사용하여 사용자 정의 훅을 만들면 함수 컴포넌트 어디서든 손쉽게 사용 가능

But! 컴포넌트별로 초기화되므로 컴포넌트에 따라 서로 다른 상태를 가질 수 있게 됨

⮕ useState를 기반으로 한 상태는 `지역 상태(local state)`

전역 상태(global state)로 만들기 위해서 상위 컴포넌트에서만 훅을 사용하고, 훅의 반환값을 하위 컴포넌트의 props 로 넘겨줘야 함

<br>

## 2-2. 지역 상태의 한계를 벗어나보자: useState의 상태를 바깥으로 분리하기

만약 다른 자바스크립트 실행 문맥 어딘가에서 초기화돼서 관리할 경우 컴포넌트가 리렌더링 되지 않음

⮕ `useState`, `useReducer` 을 사용해야 함

### 함수 외부에서 상태를 참조하고 렌더링까지 자연스럽게 일어나기 위한 조건

1. 컴포넌트 외부 어딘가에 상태를 두고 여러 컴포넌트가 같이 쓸 수 있어야 함
2. 컴포넌트는 상태 변화를 알아채고, 상태가 변화될 때마다 리렌더링이 일어나서 컴포넌트는 최산 상태값 기준으로 렌더링해야 함
3. 객체에 내가 감지하지 않는 값이 변한다 하더라도 리렌더링 발생하면 안 됨

<br>

## 2-3. useState와 useContext를 동시에 사용해 보기

(생략)

<br>

## 2-4. 상태 관리 라이브러리 Recoil, Jotai, Zustand 살펴보기

### 1. 패이스북에서 만는 상태 관리 라이브러리 Recoil

최소 상태 개념인 Atom

아직 실험 단계라 실제 프로덕션에 사용하기엔 안정성, 성능, 사용성 등 보장 ❌

Recoil에서 제공하는 개념과 구현 방식은 다른 라이브러리에도 영향 미침

- RecoilRoot: 최상단에 배치하며, 생성되는 상태값을 저장하기 위한 스토어 생성 확인 가능
- atom: 상태를 나타내는 최소 상태 단위, Key 값 필수
- useRecoilValue: atom의 값을 읽어오는 훅
- useRecoilState: useState와 유사하게 값을 가져오고, 변경 가능한 훅

### 2. Recoil에서 영감을 받은, 그러나 조금 더 유연한 Jotai

상향식(bottom up) 접근법으로 작은 단위의 상태를 위로 전파하는 구조

- atom: 최소 단위 상태
- useAtomValue: atom의 값을 읽어오는 훅
- useAtom: useState와 동일한 형태 배열로, useAtomValue 훅 결과와 useSetAtom 훅 반환

### 3. 작고 빠르며 확장에도 유연한 zustand

리덕스에 영감을 받으며, 하나의 스토어를 중앙 집중형으로 활용해 스토어 내부에서 상태 관리
