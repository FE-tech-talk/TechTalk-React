## 상태 관리의 필요성

상태 : 어떠한 의미를 지닌 값이며 애플리케이션의 시나리오에 따라 지속적으로 변경될 수 있는 값

### 상태로 분류될 수 있는 것들

1. UI : 상호 작용이 가능한 모든 요소의 현재 값
2. URL : 브라우저에서 관리되고 있는 상태값, 쿼리에 있는 것들 `roomId=34113796`
3. form: 로딩 중, 현재 제출됐는지, 접근이 불가능한지, 값이 유효한지 등
4. 서버에서 가져온 값: 클라이언트에서 서버로 요청을 통해 가져온 값, API 요청

### 상태 관리 역사

#### Flux 패턴

Action > Dispatcher > Model > View

단방향 데이터 흐름

Action : 어떠한 작업을 처리할 액션과 그 액션 발생 시 함께 포함시킬 데이터

Dispatcher : 액션을 스토어로 보내는 역할

Model : 실제 상태에 따른 값과 상태를 변경할 수 있는 메서드

View: 리액트의 컴포넌트, 스토어에 만들어진 데이터 기반 렌더링

이를 활용한 훅이 useReducer이다.

#### Redux 등장

Flux 구조를 구현하기 위해 만들어진 라이브러리

`Elm` 아키텍처 도입, model update view

model : 애플리케이션의 상태

update: 모델을 수정하는 방식

view : 모델을 표현하는 HTML

하나의 상태 객체를 스토어에 저장해두고 이 객체를 업데이트하는 작업을 dispatch해 업데이트를 수행 
(reducer 이용 > 웹 애플리케이션 상태에 대한 복사본 반환 > 새롭게 만들어진 상태 전파)

하고자 하는 일에 비해 보일러 플레이트가 너무 많다는 단점이 있다.

#### Context API

상태 관리라기 보다는 상태 주입을 도와주는 기능, 렌더링을 막아주지 않는다.

#### Hook의 탄생

Hook이 탄생하면서 state를 매우 손쉽게 재사용할 수 있게 해줌에 따라 React Query와 SWR이 등장하게 된다.
(리렌더링을 보장하지는 않으면서 상태를 내부적으로 관리함.)

#### React Query, SWR

HTTP 요청에 특화된 상태 관리 라이브러리

347페이지에 보면 진짜 쉽게 상태를 처리할 수 있다. 

#### Recoil, Zustand, Jotai, Valtio

훅을 활용해서 작은 크기의 상태를 효율적으로 관리한다는 특징이 있다.

원하는 만큼의 상태를 지역적으로 관리하는 것을 가능하게 만들었고 함수 컴포넌트에서 손쉽게 사용할 수 있다.