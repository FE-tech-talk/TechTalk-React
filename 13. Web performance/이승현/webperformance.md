# 애플리케이션에서 확인하기

## create-next-app

NextWebVitalsMetric 메서드로 성능 측정
웹 표준 지표 이외에 3가지 추가적인 사용자 지표가 존재한다.

1. Next.js-hydration : 페이지가 서버 사이드에서 렌더링되어 하이드레이션하는 데 걸린 시간
2. Next.js-route-change-to-render : 페에지가 경로를 변경한 후 페이지를 렌더링을 시작하는데 걸리는 시간
3. Next.js-render : 경로 변경이 완료된 후 페이지를 렌더링하는 데 걸린 시간

## Light House

### 탐색 모드

#### 1. 성능

FCP, LCP, CLS 외에 3가지 추가지 지표

1. Time to Interaction
2. Speed Index : 콘텐츠가 얼마나 빨리 시각적으로 표시되는지 확인
3. Total Blocking Time : 메인 스레드에서 특정 시간 이상 실행되는 작업

#### 2. 접근성

스크린 리더가 잘 이해할 수 있도록 HTML, CSS로 잘 대비되어 있는지를 나타낸 지표

#### 3. 권장사항

보안, 표준 모드, 최신 라이브러리, 소스 맵

#### 4. 검색엔진 최적화

구글과 같은 검색엔진이 쉽게 웹페이지 정보를 가져가서 공개할 수 있도록 최적화돼 있는지를 확인하는 것

1. 문서를 크롤링하기 쉽게 만들었는지
2. robots.txt가 유효한지
3. 이미지와 링크에 설명 문자가 존재하는지
4. `<meta></meta>`나 `<title></title>` 등으로 페이지의 정보를 빠르게 확인할 수 있는가

### 기간 모드

웹페이지를 탐색하는 동안 지표를 측정하는 것

개발자 도구에서 수정이 필요한 내용을 확인할 수 있다.

이때 앞에서 볼 수 없었던 내용 두 가지를 확인할 수 있는데, View Trace과 Tree Map이다.

#### View Trace

웹 성능을 추적한 기간을 성능 탭에서 보여준다. 시간의 흐름에 따라 어떻게 로딩됐는지 보여준다.

#### Tree Map

페이지를 불러올 때 함께 로딩한 모든 리소스를 함께 모아서 볼 수 있는 곳이다.

웹페이지의 전체 JS Resource 중 어떠한 파일이 전체 데이터 로딩 중 어느 정도를 차지했는지를 비율로 확인할 수 있다.


### 스냅샷

현재 페이지 상태를 기준으로 분석

현재 상태에서 검색 엔진의 최적화, 접근성, 성능 등을 분석할 수 있다.

페이지 로딩이 아닌 특정 페이지 특정 상태를 기준으로 분석 시 스냅샷 모드 사용

## WebPageTest

웹사이트 성능을 분석하는 도구이자 다양한 기능을 포함한다.
거리가 먼 서버를 기준으로 테스트하기 때문에 성능 지표가 기본 크롬 개발자 도구보다 안 좋을 수 있다.
### 분석 도구 종류

#### 1. Site Performance : 웹 사이트 성능을 분석
#### 2. Core Web Vitals : 웹사이트의 핵심 웹 지표를 확인하기 위한 도구
#### 3. Lighthouse : 구글 라이트하우스 도구
#### 4. Visual Comparison : 2개 이상의 사이트를 동시에 실행해 시간의 흐름에 따른 로딩 과정을 비교하는 도구
#### 5. Traceroute : 네트워크 경로를 확인하는 도구

### Site Performance를 탐구해보자.

webpagetest.org에 접속해서 탐구가능하다.

테스트는 총 3번 이뤄지고 서로 다른 결과를 확인할 수 있다.

#### Opportunities & Experiments

##### Is it Quick

웹사이트가 충분히 빠른지 평가한다. 최초 바이트까지의 시간이 짧은지, 콘텐츠 렌더링이 즉각적으로 일어나는지, 최대 콘텐츠풀 페인트 시간이 합리적인지를 확인한다.

##### Is it Usable

웹사이트의 사용성과 시각적인 요소를 확인한다. 콘텐츠 누적 이동(CLS)을 최소화하고 있는지, 상호작용을 빠르게 할 수 있는지, 접근성 이슈가 있는지

##### Is it Resilient

보안 취약성을 점검. 보안 위험 요소가 있는지, 렌더링을 블로킹하는 제 3자 라이브러리가 존재하는지

#### Observed Metrics

시간의 흐름에 따라 웹페이지가 어떤 식으로 렌더링 됐는지와 함께 시간 지표를 분석해준다.

#### Individual Runs

각 실행별로 어떠한 결과를 보여주는지 확인

#### Filmstrip

웹사이트를 필름 보는 것처럼 시간의 흐름에 따라 어떻게 웹사이트가 그려졌는지 볼 수 있는 메뉴

#### Details

Filmstrip에서 보여준 내용을 자세하게 보여주는 영역

#### Web Vitals

LCP, CLS, TBT에 대한 내용 확인

#### Optimizations

리소스 최적화 확인

#### Content

웹사이트에서 제공하는 콘텐츠, 애셋을 종류별로 묶어 통계를 보여준다.

#### Domains

Content에서 보여준 애셋들이 어느 도메인에서 왔는지를 도메인별로 묶어서 확인

#### Console log

사용자가 웹페이지에 접속했을 때 console.log로 무엇이 기록됐는지 확인할 수 있다.

#### Detected Technologies

웹사이트를 개발하는 데 사용된 기술을 확인할 수 있는 메뉴

#### Main-thread Processing

1. Processing Breakdown : 메인 스레드의 작업을 Scripting, Layout, Loading, Painting 기타 이렇게 다섯가지로 분류해서 알려준다. (리소스를 기다리는 Idle time은 집계에 포함되지 않는다.)
2. Timing Breakdown : Idle time을 포함해 메인 스레드의 작업을 확인

#### Lighthouse Report

구글 라이트하우스 리포트 확인

### Chrome Dev Tool

